version: "2.0"

rules:

  # - rule: welcome user
  #   conversation_start: true  # this rule only applies at the beginning of a conversation
  #   steps:
  #   - intent: greet
  #   - action: utter_greet
    
  - rule: say hi everytime user says hi
    steps:
    - intent: greet
    - action: utter_greet

  - rule: Say goodbye anytime the user says goodbye
    steps:
    - intent: goodbye
    - action: utter_goodbye

  - rule: Say 'I am a bot' anytime the user challenges
    steps:
    - intent: bot_challenge
    - action: utter_iamabot


  - rule: Implementation of the Two-Stage-Fallback
    steps:
    - intent: nlu_fallback
    - action: action_two_stage_fallback
    - active_loop: action_two_stage_fallback
    
  # - rule: Send user to home loan advisor when user is dissatisfid
  #   steps:
  #   - intent: dissatisfied
  #   - action: utter_dissatisfied ##add call action

  - rule: Book appointment whenever user asks to call
    steps:
    - intent: book_appointment
    - action: action_book_appointment
    - action: utter_any_question

  - rule: Reschedule Appointment
    steps: 
    - intent: reschedule_appointment
    - action: action_book_appointment
    - action: utter_any_question
  
  - rule: Give company information whenever asked
    steps:
    - intent: company_information
    - action: utter_company_information

  - rule: Send basic links and about us
    steps:
    - intent: more_info
    - action: utter_more_info
  
#Closing
  - rule: Closing_1
    steps:
    - intent: closing_1
    - action: utter_closing_1

  - rule: Closing_2
    steps:
    - intent: closing_2
    - action: utter_closing_2

  - rule: Closing_3
    steps:
    - intent: closing_3
    - action: utter_closing_3

  - rule: Closing_4
    steps:
    - intent: closing_4
    - action: utter_closing_4

  - rule: Closing_5
    steps:
    - intent: closing_5
    - action: utter_closing_5

  - rule: Closing_6
    steps:
    - intent: closing_6
    - action: utter_closing_6

#Products
  - rule: Products_1
    steps:
    - intent: products_1
    - action: utter_products_1

  - rule: Products_2
    steps:
    - intent: products_2
    - action: utter_products_2

  - rule: Products_3
    steps:
    - intent: products_3
    - action: utter_products_3

  - rule: Products_4
    steps:
    - intent: products_4
    - action: utter_products_4

  - rule: Products_5
    steps:
    - intent: products_5
    - action: utter_products_5

  - rule: Products_6
    steps:
    - intent: products_6
    - action: utter_products_6

  - rule: Products_7
    steps:
    - intent: products_7
    - action: utter_products_7

  - rule: Products_8
    steps:
    - intent: products_8
    - action: utter_products_8
  
  - rule: Products_9
    steps:
    - intent: products_9
    - action: utter_products_9

# Choose another lender

  - rule: Choose another Lender
    steps:
    - intent: change_lender
    - action: utter_change_lender